{"is_source_file": true, "format": "bash", "description": "A shell script that detects specific backup files and restores different types of databases (SQLite, PostgreSQL, MySQL, MongoDB) accordingly. It performs environment detection, connection checks, and conditional restoration based on available backups and database states.", "external_files": ["database_backup.db", "database_backup.sql", "database_backup.archive"], "external_methods": ["ls", "cp", "sudo -u postgres pg_isready", "psql", "mysqladmin", "mysql", "mongosh", "mongorestore"], "published": [], "classes": [], "methods": [], "calls": ["ls /usr/lib/postgresql/", "sudo -u postgres /usr/lib/postgresql/${PG_VERSION}/bin/pg_isready", "/usr/lib/postgresql/${PG_VERSION}/bin/psql", "mysqladmin ping", "mysql -h localhost -P ${DB_PORT} -u ${DB_USER} -p${DB_PASSWORD} -e \"SELECT 1\"", "sudo mysqladmin ping --socket=/var/run/mysqld/mysqld.sock", "sudo mysql --socket=/var/run/mysqld/mysqld.sock -u root -p${DB_PASSWORD} -e \"SELECT 1\"", "mongosh --port ${DB_PORT} --eval \"db.adminCommand('ping')\"", "mongorestore --port ${DB_PORT} --archive=database_backup.archive --drop --quiet"], "search-terms": ["restore_db", "database_backup.sql", "database_backup.db", "database_backup.archive", "SQLite", "PostgreSQL", "MySQL", "MongoDB", "db_restore_script"], "state": 2, "file_id": 39, "knowledge_revision": 432, "git_revision": "a40e40d1d73aedd9adb3ccd161f7a57ca5434944", "hash": "16aca5a0236fd39f00fe3b72cb03adb2", "format-version": 4, "code-base-name": "universalinit", "filename": "src/universalinit/common/restore_db.sh", "revision_history": [{"432": "a40e40d1d73aedd9adb3ccd161f7a57ca5434944"}]}