{"is_source_file": true, "format": "Python", "description": "This file contains a test suite for the envmapper module, testing functions related to parsing templates, transforming environment variables for different frameworks (notably React), and performing roundtrip mappings. It uses pytest and includes unit and integration tests for key functionalities of envmapper.", "external_files": ["pytest", "tempfile", "os", "yaml", "pathlib.Path", "universalinit_env.envmapper"], "external_methods": ["pytest.raises", "yaml.dump", "Path()"], "published": [], "classes": [{"name": "TestTemplatePath", "description": "Tests for get_template_path function, checking retrieval for existing and nonexistent frameworks."}, {"name": "TestParseTemplateFile", "description": "Tests for parse_template_file function, covering various YAML content scenarios including valid, invalid, with prefix, and empty."}, {"name": "TestPrefixMapping", "description": "Tests for apply_prefix_mapping function, verifying prefix application to environment variables."}, {"name": "TestFrameworkMapping", "description": "Tests for mapping between common env variables and framework-specific env variables, including roundtrip integrity."}, {"name": "TestSupportedFrameworks", "description": "Tests for get_supported_frameworks function, confirming supported frameworks list retrieval."}, {"name": "TestUnmappedVariablePreservation", "description": "Ensures unmapped variables are preserved correctly when converting between formats."}, {"name": "TestEdgeCases", "description": "Checks handling of special characters, unicode, very long strings, and other edge conditions."}, {"name": "TestIntegration", "description": "Performs end-to-end testing of the workflow from template parsing to env variable mapping and roundtrip verification."}], "methods": [{"name": "test_get_template_path_existing(self)", "description": "Tests getting a valid template path for an existing framework.", "scope": "TestTemplatePath", "scopeKind": "class"}, {"name": "test_get_template_path_nonexistent(self)", "description": "Ensures requesting a non-existent framework raises FileNotFoundError.", "scope": "TestTemplatePath", "scopeKind": "class"}, {"name": "test_parse_template_file_existing(self)", "description": "Tests parsing of a valid existing template file, checking prefix and mapping.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_parse_template_file_nonexistent(self)", "description": "Verifies error is raised when parsing a nonexistent file.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_parse_template_file_with_prefix(self)", "description": "Tests parsing of a YAML template with a 'prefix' key.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_parse_template_file_without_prefix(self)", "description": "Tests parsing YAML without a prefix key; expects prefix to be None.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_parse_template_file_empty(self)", "description": "Checks behavior with empty file content.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_parse_template_file_invalid_yaml(self)", "description": "Asserts that invalid YAML content raises a ValueError with 'Invalid YAML' message.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_parse_template_file_invalid_mapping(self)", "description": "Ensures error when 'mapping' key is not a dictionary.", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"name": "test_apply_prefix_mapping(self)", "description": "Verifies prefix is correctly applied to each environment variable.", "scope": "TestPrefixMapping", "scopeKind": "class"}, {"name": "test_apply_prefix_mapping_empty(self)", "description": "Checks that empty input results in empty output.", "scope": "TestPrefixMapping", "scopeKind": "class"}, {"name": "test_map_common_to_framework_react(self)", "description": "Tests mapping from common env to React-specific env, including direct and prefix mappings.", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"name": "test_map_framework_to_common_react(self)", "description": "Tests reverse mapping from React env vars back to common format, verifying correctness.", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"name": "test_mapping_roundtrip(self)", "description": "Verifies that mapping to framework and back to common preserves data integrity.", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"name": "test_mapping_with_empty_env(self)", "description": "Ensures empty envs produce empty results in both directions.", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"name": "test_preserve_unmapped_common_variables(self)", "description": "Checks that variables without direct mappings are preserved with framework prefix.", "scope": "TestUnmappedVariablePreservation", "scopeKind": "class"}, {"name": "test_preserve_unmapped_framework_variables(self)", "description": "Verifies that framework variables without mappings are preserved in conversion back.", "scope": "TestUnmappedVariablePreservation", "scopeKind": "class"}, {"name": "test_mapping_with_special_characters(self)", "description": "Tests handling of environment variables containing special characters.", "scope": "TestEdgeCases", "scopeKind": "class"}, {"name": "test_mapping_with_unicode(self)", "description": "Ensures unicode characters are preserved during mapping.", "scope": "TestEdgeCases", "scopeKind": "class"}, {"name": "test_mapping_with_very_long_values(self)", "description": "Tests preservation of very long string values in environment variables.", "scope": "TestEdgeCases", "scopeKind": "class"}, {"name": "test_full_workflow(self)", "description": "End-to-end test covering template parsing, environment variable mapping, and integrity checks.", "scope": "TestIntegration", "scopeKind": "class"}, {"name": "test_get_supported_frameworks(self)", "scope": "TestSupportedFrameworks", "scopeKind": "class", "description": "unavailable"}], "search-terms": ["envmapper", "parse_template_file", "map_common_to_framework", "map_framework_to_common", "get_template_path", "apply_prefix_mapping", "frameworks", "React", "test_envmapper", "template", "yaml parsing"], "state": 2, "file_id": 343, "knowledge_revision": 1364, "git_revision": "1aee8ed1eca8330cc765b711c43546e90b04ff39", "ctags": [{"_type": "tag", "name": "TestEdgeCases", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestEdgeCases:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestFrameworkMapping", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestFrameworkMapping:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestIntegration", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestIntegration:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestParseTemplateFile", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestParseTemplateFile:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestPrefixMapping", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestPrefixMapping:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestSupportedFrameworks", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestSupportedFrameworks:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestTemplatePath", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestTemplatePath:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestUnmappedVariablePreservation", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^class TestUnmappedVariablePreservation:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "test_apply_prefix_mapping", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_apply_prefix_mapping(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestPrefixMapping", "scopeKind": "class"}, {"_type": "tag", "name": "test_apply_prefix_mapping_empty", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_apply_prefix_mapping_empty(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestPrefixMapping", "scopeKind": "class"}, {"_type": "tag", "name": "test_full_workflow", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_full_workflow(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestIntegration", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_supported_frameworks", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_get_supported_frameworks(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestSupportedFrameworks", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_template_path_existing", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_get_template_path_existing(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTemplatePath", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_template_path_nonexistent", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_get_template_path_nonexistent(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestTemplatePath", "scopeKind": "class"}, {"_type": "tag", "name": "test_map_common_to_framework_react", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_map_common_to_framework_react(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"_type": "tag", "name": "test_map_framework_to_common_react", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_map_framework_to_common_react(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"_type": "tag", "name": "test_mapping_roundtrip", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_mapping_roundtrip(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"_type": "tag", "name": "test_mapping_with_empty_env", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_mapping_with_empty_env(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestFrameworkMapping", "scopeKind": "class"}, {"_type": "tag", "name": "test_mapping_with_special_characters", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_mapping_with_special_characters(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestEdgeCases", "scopeKind": "class"}, {"_type": "tag", "name": "test_mapping_with_unicode", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_mapping_with_unicode(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestEdgeCases", "scopeKind": "class"}, {"_type": "tag", "name": "test_mapping_with_very_long_values", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_mapping_with_very_long_values(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestEdgeCases", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_empty", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_empty(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_existing", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_existing(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_invalid_mapping", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_invalid_mapping(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_invalid_yaml", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_invalid_yaml(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_nonexistent", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_nonexistent(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_with_prefix", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_with_prefix(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_parse_template_file_without_prefix", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_parse_template_file_without_prefix(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestParseTemplateFile", "scopeKind": "class"}, {"_type": "tag", "name": "test_preserve_unmapped_common_variables", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_preserve_unmapped_common_variables(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestUnmappedVariablePreservation", "scopeKind": "class"}, {"_type": "tag", "name": "test_preserve_unmapped_framework_variables", "path": "/home/kavia/workspace/code-generation/universalinit/test/test_envmapper.py", "pattern": "/^    def test_preserve_unmapped_framework_variables(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "TestUnmappedVariablePreservation", "scopeKind": "class"}], "hash": "3ba6c2e39c459e25b8ef160574176cdf", "format-version": 4, "code-base-name": "universalinit", "filename": "test/test_envmapper.py", "revision_history": [{"1364": "1aee8ed1eca8330cc765b711c43546e90b04ff39"}]}